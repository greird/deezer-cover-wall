$(document).ready(function(){function t(){var t=250,e={},i={};e={width:window.innerWidth||document.body.clientWidth,height:window.innerHeight||document.body.clientHeight},i={width:Math.ceil(e.width/t),height:Math.ceil(e.height/t)},t=e.width/i.width,$(".thumbnail").css("width",t).css("height",t),$(".cover").css("width",t).css("height",t),$(".track-information").css("width",t-40),$("#cover").css("width",t*i.width).css("height",t*i.height),$("#loader").fadeOut("fast",function(){$("#results").fadeIn("fast")})}function e(t){var e;$.ajax({dataType:"jsonp",url:t,data:{},jsonp:"callback",success:function(t){e=t.data.reverse(),riot.mount("thumbnail",e)}})}function i(t,e){null==e&&(e=""),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)"),a=i.exec(window.location.href);return null==a?e:a[1]}if(isNaN(i("id")))e("http://api.deezer.com/user/34466551/flow?limit=200&output=jsonp");else{var a=i("id");switch(i("type")){case"album":e("http://api.deezer.com/album/"+a+"/tracks?limit=200&output=jsonp");break;case"playlist":e("http://api.deezer.com/playlist/"+a+"/tracks?limit=200&output=jsonp");break;case"artist":e("http://api.deezer.com/artist/"+a+"/albums?limit=200&output=jsonp");break;case"user":e("http://api.deezer.com/user/"+a+"/flow?limit=200&output=jsonp");break;default:e("http://api.deezer.com/user/34466551/flow?limit=200&output=jsonp")}}window.onload=function(){t(),$(".track-information").hide(),$(".overlay").hide(),$(".thumbnail").hover(function(){$(".overlay",this).fadeTo("fast",.8),$(".track-information",this).fadeIn("fast")},function(){$(".overlay",this).stop().fadeOut("fast"),$(".track-information",this).stop().fadeOut("fast")})},window.addEventListener("resize",t)});