// Initialize player
function play(a,e){function l(){i.push(a);for(var e in t)s===!0?i.push(t[e].id):t[e].id==a&&(s=!0);DZ.player.playTracks(i)}var r=parseInt(DZ.player.getTrackList()[0].id),t=DZ.player.getTrackList(),i=[],s=!1;switch(e){case"track":DZ.player.isPlaying()?r===a?(DZ.player.pause(),$("#player").slideUp("fast")):l():r===a?(DZ.player.play(),$("#player").slideDown("fast")):(l(),riot.mount("player"));break;case"album":DZ.player.playAlbum(a);break;case"playlist":DZ.player.playTracks(a);break;default:console.error("Invalid type or id."),console.log("Type: "+e),console.log("Id: "+a)}}DZ.init({appId:"16dd244abec147dac3d6155c6a5383e4",channelUrl:"http://localhost:8888/deezer-cover-wall/channel.html",player:{onload:function(a){var e,l=parseInt(getQueryString("id"))||null,r=getQueryString("type")||null;if(console.log("DZ.player is ready",a),isNaN(l)||null===r)e="/user/"+MY_USER_ID+"/flow?limit="+ITEMS_LIMIT;else switch(r){case"album":e="/album/"+l+"?limit="+ITEMS_LIMIT;break;case"playlist":e="/playlist/"+l+"/tracks?limit="+ITEMS_LIMIT;break;case"artist":e="/artist/"+l+"/albums?limit="+ITEMS_LIMIT;break;case"user":e="/user/"+l+"/flow?limit="+ITEMS_LIMIT;break;default:e="/user/"+MY_USER_ID+"/flow?limit="+ITEMS_LIMIT}DZ.api(e,function(a){var e,l,t={},i={};switch(r){case"album":i=a.tracks.data;for(e in i)DZ.player.addToQueue([i[e].id]),i[e].album={},i[e].album.cover_medium=a.cover_medium,i[e].album.id=a.id;break;case"artist":t=a.data;for(e in t)DZ.api("/album/"+t[e].id,function(a){i=a.tracks.data;for(l in i)DZ.player.addToQueue([i[l].id]),t[e].tracks={},t[e].tracks.data=i[l];riot.mount("thumbnail",t),setCanvaSize(),setAnimations()});break;default:i=a.data.reverse();for(e in i)DZ.player.addToQueue([i[e].id])}riot.mount("thumbnail",i),setCanvaSize(),setAnimations()})}}}),DZ.Event.subscribe("current_track",function(a,e){PLAYER.CURRENT=a,riot.update("player"),$("#player").slideDown("fast")});