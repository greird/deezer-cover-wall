// Initialize player
function play(a,e){function l(){t.push(a);for(var e in i)s===!0?t.push(i[e].id):i[e].id==a&&(s=!0);DZ.player.playTracks(t)}var r=parseInt(DZ.player.getTrackList()[0].id),i=DZ.player.getTrackList(),t=[],s=!1;switch(e){case"track":DZ.player.isPlaying()?r===a?(DZ.player.pause(),$("#player").slideUp("fast")):l():r===a?(DZ.player.play(),$("#player").slideDown("fast")):(l(),riot.mount("player"));break;case"album":DZ.player.playAlbum(a);break;case"playlist":DZ.player.playTracks(a);break;default:console.error("Invalid type or id."),console.log("Type: "+e),console.log("Id: "+a)}}function playNext(a){var e=DZ.player.getTrackList(),l=parseInt(e[0].id),r=[a];for(var i in e)e[i].id!=a&&r.push(e[i].id);DZ.player.changeTrackOrder(r),console.log(a+" will play after "+l+" in queuelist : "+r)}DZ.init({appId:"16dd244abec147dac3d6155c6a5383e4",channelUrl:"http://localhost:8888/deezer-cover-wall/channel.html",player:{onload:function(a){var e,l=parseInt(getQueryString("id"))||null,r=getQueryString("type")||null;if(console.log("DZ.player is ready",a),isNaN(l)||null===r)e="/user/"+MY_USER_ID+"/flow?limit="+ITEMS_LIMIT;else switch(r){case"album":e="/album/"+l+"?limit="+ITEMS_LIMIT;break;case"playlist":e="/playlist/"+l+"/tracks?limit="+ITEMS_LIMIT;break;case"artist":e="/artist/"+l+"/albums?limit="+ITEMS_LIMIT;break;case"user":e="/user/"+l+"/flow?limit="+ITEMS_LIMIT;break;default:e="/user/"+MY_USER_ID+"/flow?limit="+ITEMS_LIMIT}DZ.api(e,function(a){var e,l,i={},t={};switch(r){case"album":t=a.tracks.data;for(e in t)DZ.player.addToQueue([t[e].id]),t[e].album={},t[e].album.cover_medium=a.cover_medium,t[e].album.id=a.id;break;case"artist":i=a.data;for(e in i)DZ.api("/album/"+i[e].id,function(a){t=a.tracks.data;for(l in t)DZ.player.addToQueue([t[l].id]),i[e].tracks={},i[e].tracks.data=t[l];riot.mount("thumbnail",i),setCanvaSize(),setAnimations()});break;default:t=a.data.reverse();for(e in t)DZ.player.addToQueue([t[e].id])}riot.mount("thumbnail",t),setCanvaSize(),setAnimations()})}}}),DZ.Event.subscribe("current_track",function(a,e){PLAYER.CURRENT=a,riot.update("player"),$("#player").slideDown("fast")});